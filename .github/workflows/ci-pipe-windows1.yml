#~ name: Playwright Reqnroll Tests with Allure (Windows)

#~ on:
  #~ push:
    #~ branches: [ main ]
  #~ pull_request:

#~ jobs:
  #~ test:
    #~ runs-on: windows-latest

    #~ steps:
      #~ - name: Checkout
        #~ uses: actions/checkout@v4

      #~ - name: Setup .NET
        #~ uses: actions/setup-dotnet@v4
        #~ with:
          #~ dotnet-version: '9.0.x'

      #~ - name: Cache NuGet
        #~ uses: actions/cache@v4
        #~ with:
          #~ path: ~/.nuget/packages
          #~ key: nuget-${{ runner.os }}-${{ hashFiles('**/*.csproj') }}
          #~ restore-keys: |
               #~ nuget-${{ runner.os }}-
       
      #~ - name: Restore dependencies
        #~ run: dotnet restore
       
       
      #~ - name: Install Playwright Browsers
        #~ run: |
             #~ pwsh ./bin/Debug/net9.0/playwright.ps1 install chromium --with-deps
       
       
      #~ - name: Cache Playwright
        #~ uses: actions/cache@v4
        #~ with:
          #~ path: ~\AppData\Local\ms-playwright
          #~ key: playwright-${{ runner.os }}-${{ hashFiles('**/playwright.config.*') }}
          #~ restore-keys: |
            #~ playwright-${{ runner.os }}-

     
       
      #~ - name: Make Results Directory
        #~ shell: pwsh
        #~ run: |
             #~ mkdir ./allure-results
             #~ echo dir
             
      #~ - name: Print current working directory using pwd
        #~ run: |
             #~ echo "Current directory (pwd):"
             #~ pwd # 'pwd' command is used in Unix-like systems

      #~ - name: Print the GITHUB_WORKSPACE environment variable
        #~ shell: pwsh
        #~ run: |
            #~ echo "GITHUB_WORKSPACE variable:"
            #~ echo $GITHUB_WORKSPACE # This variable holds the path to the default workspace
            

       
      #~ - name: Build Project
        #~ run: dotnet build
       
      #~ - name: Run Reqnroll Playwright Tests
        #~ run: dotnet test 
        #~ continue-on-error: true
      

      #~ - name: Install Allure CLI
        #~ run: |
            #~ curl -L https://github.com/allure-framework/allure2/releases/download/2.36.0/allure-2.36.0.zip -o allure.zip
            #~ tar -xf allure.zip
            #~ echo "${{ github.workspace }}\allure-2.36.0\bin" >> $env:GITHUB_PATH
  


      #~ - name: Clean old Allure results
        #~ run: |
             #~ if (Test-Path allure-results) { Remove-Item allure-results -Recurse -Force }
             #~ mkdir allure-results

      #~ - name: Generate Allure Report
        #~ run: allure generate ./allure-results -o ./allure-report --clean
       
      #~ - name: Debug Allure files
        #~ shell: pwsh
        #~ run: |
           #~ Get-ChildItem -Recurse allure-results
       
      #~ - name: Verify Allure results
        #~ shell: pwsh
        #~ run: |
           #~ dir allure-results
       
       
       
      #~ - name: Generate Allure Results
        #~ run: allure generate ./TestResults/allure-results -o ./allure-report --clean

      #~ - name: Upload Allure Report
        #~ uses: actions/upload-artifact@v4
        #~ with:
          #~ name: allure-report
          #~ path: allure-report

  #~ deploy:
    #~ runs-on: windows-latest
    #~ needs: test

    #~ steps:
      #~ - name: Checkout
        #~ uses: actions/checkout@v4

      #~ - name: Download Allure Report
        #~ uses: actions/download-artifact@v4
        #~ with:
          #~ name: allure-report
          #~ path: allure-report

      #~ - name: Deploy Allure Report to GitHub Pages
        #~ uses: peaceiris/actions-gh-pages@v4
        #~ with:
          #~ github_token: ${{ secrets.GITHUB_TOKEN }}
          #~ publish_dir: allure-report










